-- Простой чит скрипт
local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")

local player = Players.LocalPlayer

print("=== SIMPLE CHEAT LOADED ===")

-- FLIGHT
local flying = false
local flightBodyVelocity

UserInputService.InputBegan:Connect(function(input)
    if input.KeyCode == Enum.KeyCode.F then
        flying = not flying
        print("Flight: " .. (flying and "ON" or "OFF"))
        
        if flying then
            local character = player.Character
            if character and character:FindFirstChild("HumanoidRootPart") then
                flightBodyVelocity = Instance.new("BodyVelocity")
                flightBodyVelocity.Velocity = Vector3.new(0, 0, 0)
                flightBodyVelocity.MaxForce = Vector3.new(40000, 40000, 40000)
                flightBodyVelocity.Parent = character.HumanoidRootPart
                
                while flying and character do
                    local cam = workspace.CurrentCamera
                    local moveDir = Vector3.new(0, 0, 0)
                    
                    if UserInputService:IsKeyDown(Enum.KeyCode.W) then moveDir = moveDir + cam.CFrame.LookVector end
                    if UserInputService:IsKeyDown(Enum.KeyCode.S) then moveDir = moveDir - cam.CFrame.LookVector end
                    if UserInputService:IsKeyDown(Enum.KeyCode.A) then moveDir = moveDir - cam.CFrame.RightVector end
                    if UserInputService:IsKeyDown(Enum.KeyCode.D) then moveDir = moveDir + cam.CFrame.RightVector end
                    if UserInputService:IsKeyDown(Enum.KeyCode.Space) then moveDir = moveDir + Vector3.new(0, 1, 0) end
                    if UserInputService:IsKeyDown(Enum.KeyCode.LeftControl) then moveDir = moveDir - Vector3.new(0, 1, 0) end
                    
                    flightBodyVelocity.Velocity = moveDir * 50
                    RunService.Heartbeat:Wait()
                end
            end
        else
            if flightBodyVelocity then
                flightBodyVelocity:Destroy()
            end
        end
    end
end)

-- NOCLIP
local noclip = false

UserInputService.InputBegan:Connect(function(input)
    if input.KeyCode == Enum.KeyCode.V then
        noclip = not noclip
        print("NoClip: " .. (noclip and "ON" or "OFF"))
        
        if noclip then
            while noclip do
                local character = player.Character
                if character then
                    for _, part in pairs(character:GetDescendants()) do
                        if part:IsA("BasePart") then
                            part.CanCollide = false
                        end
                    end
                end
                RunService.Heartbeat:Wait()
            end
        end
    end
end)

-- SPEED HACK
local speedHack = false
local originalSpeed = 16

UserInputService.InputBegan:Connect(function(input)
    if input.KeyCode == Enum.KeyCode.G then
        speedHack = not speedHack
        print("Speed Hack: " .. (speedHack and "ON" or "OFF"))
        
        local character = player.Character
        if character then
            local humanoid = character:FindFirstChildOfClass("Humanoid")
            if humanoid then
                if speedHack then
                    originalSpeed = humanoid.WalkSpeed
                    humanoid.WalkSpeed = 50
                else
                    humanoid.WalkSpeed = originalSpeed
                end
            end
        end
    end
end)

-- ESP
local espEnabled = false
local highlights = {}

UserInputService.InputBegan:Connect(function(input)
    if input.KeyCode == Enum.KeyCode.X then
        espEnabled = not espEnabled
        print("ESP: " .. (espEnabled and "ON" or "OFF"))
        
        if espEnabled then
            for _, otherPlayer in pairs(Players:GetPlayers()) do
                if otherPlayer ~= player then
                    if otherPlayer.Character then
                        local highlight = Instance.new("Highlight")
                        highlight.FillColor = Color3.new(1, 0, 0)
                        highlight.OutlineColor = Color3.new(1, 1, 1)
                        highlight.FillTransparency = 0.5
                        highlight.Parent = otherPlayer.Character
                        highlight.Adornee = otherPlayer.Character
                        highlights[otherPlayer] = highlight
                    end
                end
            end
        else
            for _, highlight in pairs(highlights) do
                if highlight then
                    highlight:Destroy()
                end
            end
            highlights = {}
        end
    end
end)

-- AIMBOT (ИГНОРИРУЕТ ТИММЕЙТОВ)
local aimbotEnabled = false
local aimKey = Enum.UserInputType.MouseButton2

local function getClosestEnemy()
    local closestPlayer = nil
    local closestDistance = math.huge
    local localRoot = player.Character and player.Character:FindFirstChild("HumanoidRootPart")
    
    if not localRoot then return nil end
    
    for _, otherPlayer in pairs(Players:GetPlayers()) do
        if otherPlayer ~= player and otherPlayer.Character then
            -- Проверка на тиммейтов
            local isTeammate = false
            
            if player.Team and otherPlayer.Team then
                if player.Team == otherPlayer.Team then
                    isTeammate = true
                end
            end
            
            if isTeammate then
                continue
            end
            
            local targetRoot = otherPlayer.Character:FindFirstChild("HumanoidRootPart")
            local humanoid = otherPlayer.Character:FindFirstChildOfClass("Humanoid")
            
            if targetRoot and humanoid and humanoid.Health > 0 then
                local distance = (localRoot.Position - targetRoot.Position).Magnitude
                if distance < closestDistance then
                    closestDistance = distance
                    closestPlayer = otherPlayer
                end
            end
        end
    end
    
    return closestPlayer
end

UserInputService.InputBegan:Connect(function(input)
    if input.KeyCode == Enum.KeyCode.Q then
        aimbotEnabled = not aimbotEnabled
        print("Aimbot: " .. (aimbotEnabled and "ON" or "OFF"))
        
        if aimbotEnabled then
            while aimbotEnabled do
                if UserInputService:IsMouseButtonPressed(aimKey) then
                    local closestEnemy = getClosestEnemy()
                    if closestEnemy and closestEnemy.Character then
                        local targetRoot = closestEnemy.Character:FindFirstChild("HumanoidRootPart")
                        local camera = workspace.CurrentCamera
                        if targetRoot and camera then
                            camera.CFrame = CFrame.new(camera.CFrame.Position, targetRoot.Position)
                        end
                    end
                end
                RunService.Heartbeat:Wait()
            end
        end
    end
end)

-- ANTI-AFK
local antiAFK = false

UserInputService.InputBegan:Connect(function(input)
    if input.KeyCode == Enum.KeyCode.H then
        antiAFK = not antiAFK
        print("Anti-AFK: " .. (antiAFK and "ON" or "OFF"))
        
        if antiAFK then
            local virtualUser = game:GetService("VirtualUser")
            game:GetService("Players").LocalPlayer.Idled:connect(function()
                virtualUser:Button2Down(Vector2.new(0,0), workspace.CurrentCamera.CFrame)
                wait(1)
                virtualUser:Button2Up(Vector2.new(0,0), workspace.CurrentCamera.CFrame)
            end)
        end
    end
end)

print("Горячие клавиши:")
print("F - Полет")
print("V - NoClip") 
print("G - Скорость")
print("X - ESP")
print("Q - Aimbot (ПКМ для прицеливания)")
print("H - Anti-AFK")

-- Уведомление
game:GetService("StarterGui"):SetCore("SendNotification", {
    Title = "ЧИТЫ ЗАГРУЖЕНЫ",
    Text = "F-полет, V-ноклип, G-скорость, X-ESP, Q-аимбот",
    Duration = 8
})
