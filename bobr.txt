-- Simple Cheat Menu for Duel Murder vs Sheriffs
local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local CoreGui = game:GetService("CoreGui")
local Workspace = game:GetService("Workspace")

local player = Players.LocalPlayer

print("=== DUEL MURDER CHEAT MENU ===")

-- ÐŸÑ€Ð¾ÑÑ‚Ñ‹Ðµ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸
local Settings = {
    Speed = false,
    Jump = false,
    Noclip = false,
    Fly = false,
    ESP = false,
    Aimbot = false,
    Wallshoot = false,
    FOV = false
}

-- Ð¡Ð¾Ð·Ð´Ð°ÐµÐ¼ Ð¿Ñ€Ð¾ÑÑ‚Ð¾Ðµ Ð¼ÐµÐ½ÑŽ
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "SimpleCheatMenu"
screenGui.Parent = CoreGui

local mainFrame = Instance.new("Frame")
mainFrame.Name = "MainFrame"
mainFrame.Parent = screenGui
mainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 40)
mainFrame.BorderSizePixel = 0
mainFrame.Position = UDim2.new(0.05, 0, 0.05, 0)
mainFrame.Size = UDim2.new(0, 200, 0, 300)
mainFrame.Active = true
mainFrame.Draggable = true

-- Ð—Ð°Ð³Ð¾Ð»Ð¾Ð²Ð¾Ðº
local title = Instance.new("TextLabel")
title.Parent = mainFrame
title.BackgroundColor3 = Color3.fromRGB(45, 45, 55)
title.BorderSizePixel = 0
title.Size = UDim2.new(1, 0, 0, 30)
title.Font = Enum.Font.SourceSansBold
title.Text = "DUEL MURDER CHEATS"
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.TextSize = 14

-- Ð¤ÑƒÐ½ÐºÑ†Ð¸Ñ Ð´Ð»Ñ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ ÐºÐ½Ð¾Ð¿Ð¾Ðº
local function createButton(text, position, callback)
    local button = Instance.new("TextButton")
    button.Parent = mainFrame
    button.BackgroundColor3 = Color3.fromRGB(50, 50, 60)
    button.BorderSizePixel = 0
    button.Position = position
    button.Size = UDim2.new(0.9, 0, 0, 30)
    button.Font = Enum.Font.SourceSans
    button.Text = text
    button.TextColor3 = Color3.fromRGB(255, 255, 255)
    button.TextSize = 12
    
    button.MouseButton1Click:Connect(callback)
    return button
end

-- 1. SPEED HACK
local speedBtn = createButton("SPEED: OFF", UDim2.new(0.05, 0, 0.12, 0), function()
    Settings.Speed = not Settings.Speed
    speedBtn.Text = "SPEED: " .. (Settings.Speed and "ON" or "OFF")
    speedBtn.BackgroundColor3 = Settings.Speed and Color3.fromRGB(0, 150, 0) or Color3.fromRGB(50, 50, 60)
    print("Speed: " .. (Settings.Speed and "ON" or "OFF"))
end)

-- 2. JUMP POWER
local jumpBtn = createButton("JUMP: OFF", UDim2.new(0.05, 0, 0.22, 0), function()
    Settings.Jump = not Settings.Jump
    jumpBtn.Text = "JUMP: " .. (Settings.Jump and "ON" or "OFF")
    jumpBtn.BackgroundColor3 = Settings.Jump and Color3.fromRGB(0, 150, 0) or Color3.fromRGB(50, 50, 60)
    print("Jump: " .. (Settings.Jump and "ON" or "OFF"))
end)

-- 3. NOCLIP
local noclipBtn = createButton("NOCLIP: OFF", UDim2.new(0.05, 0, 0.32, 0), function()
    Settings.Noclip = not Settings.Noclip
    noclipBtn.Text = "NOCLIP: " .. (Settings.Noclip and "ON" or "OFF")
    noclipBtn.BackgroundColor3 = Settings.Noclip and Color3.fromRGB(0, 150, 0) or Color3.fromRGB(50, 50, 60)
    print("Noclip: " .. (Settings.Noclip and "ON" or "OFF"))
end)

-- 4. FLY
local flyBtn = createButton("FLY: OFF", UDim2.new(0.05, 0, 0.42, 0), function()
    Settings.Fly = not Settings.Fly
    flyBtn.Text = "FLY: " .. (Settings.Fly and "ON" or "OFF")
    flyBtn.BackgroundColor3 = Settings.Fly and Color3.fromRGB(0, 150, 0) or Color3.fromRGB(50, 50, 60)
    print("Fly: " .. (Settings.Fly and "ON" or "OFF"))
end)

-- 5. ESP
local espBtn = createButton("ESP: OFF", UDim2.new(0.05, 0, 0.52, 0), function()
    Settings.ESP = not Settings.ESP
    espBtn.Text = "ESP: " .. (Settings.ESP and "ON" or "OFF")
    espBtn.BackgroundColor3 = Settings.ESP and Color3.fromRGB(0, 150, 0) or Color3.fromRGB(50, 50, 60)
    print("ESP: " .. (Settings.ESP and "ON" or "OFF"))
end)

-- 6. AIMBOT
local aimbotBtn = createButton("AIMBOT: OFF", UDim2.new(0.05, 0, 0.62, 0), function()
    Settings.Aimbot = not Settings.Aimbot
    aimbotBtn.Text = "AIMBOT: " .. (Settings.Aimbot and "ON" or "OFF")
    aimbotBtn.BackgroundColor3 = Settings.Aimbot and Color3.fromRGB(0, 150, 0) or Color3.fromRGB(50, 50, 60)
    print("Aimbot: " .. (Settings.Aimbot and "ON" or "OFF"))
end)

-- 7. WALLSHOOT
local wallshootBtn = createButton("WALLSHOOT: OFF", UDim2.new(0.05, 0, 0.72, 0), function()
    Settings.Wallshoot = not Settings.Wallshoot
    wallshootBtn.Text = "WALLSHOOT: " .. (Settings.Wallshoot and "ON" or "OFF")
    wallshootBtn.BackgroundColor3 = Settings.Wallshoot and Color3.fromRGB(0, 150, 0) or Color3.fromRGB(50, 50, 60)
    print("Wallshoot: " .. (Settings.Wallshoot and "ON" or "OFF"))
    
    -- Ð’ÐºÐ»ÑŽÑ‡Ð°ÐµÐ¼/Ð²Ñ‹ÐºÐ»ÑŽÑ‡Ð°ÐµÐ¼ ÑÑ‚Ñ€ÐµÐ»ÑŒÐ±Ñƒ Ñ‡ÐµÑ€ÐµÐ· ÑÑ‚ÐµÐ½Ñ‹
    setupWallshoot()
end)

-- 8. FOV CHANGER
local fovBtn = createButton("FOV: OFF", UDim2.new(0.05, 0, 0.82, 0), function()
    Settings.FOV = not Settings.FOV
    fovBtn.Text = "FOV: " .. (Settings.FOV and "ON" or "OFF")
    fovBtn.BackgroundColor3 = Settings.FOV and Color3.fromRGB(0, 150, 0) or Color3.fromRGB(50, 50, 60)
    print("FOV: " .. (Settings.FOV and "ON" or "OFF"))
end)

-- Ð˜Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ
local infoLabel = Instance.new("TextLabel")
infoLabel.Parent = mainFrame
infoLabel.BackgroundTransparency = 1
infoLabel.Position = UDim2.new(0.05, 0, 0.92, 0)
infoLabel.Size = UDim2.new(0.9, 0, 0, 20)
infoLabel.Font = Enum.Font.SourceSans
infoLabel.Text = "Insert: Hide | RMB: Aimbot"
infoLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
infoLabel.TextSize = 10

-- Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð° Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¹
local highlights = {}
local flyBodyVelocity
local originalRaycast

-- Ð¤ÑƒÐ½ÐºÑ†Ð¸Ñ Ð´Ð»Ñ Ð¿Ð¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ñ Ð±Ð»Ð¸Ð¶Ð°Ð¹ÑˆÐµÐ³Ð¾ Ð²Ñ€Ð°Ð³Ð°
local function getClosestEnemy()
    local closestPlayer = nil
    local closestDistance = math.huge
    local localRoot = player.Character and player.Character:FindFirstChild("HumanoidRootPart")
    
    if not localRoot then return nil end
    
    for _, otherPlayer in pairs(Players:GetPlayers()) do
        -- Ð˜Ð³Ð½Ð¾Ñ€Ð¸Ñ€ÑƒÐµÐ¼ ÑÐµÐ±Ñ
        if otherPlayer == player then continue end
        
        -- Ð’ Duel Murder Ð¾Ð±Ñ‹Ñ‡Ð½Ð¾ Ð´Ð²Ðµ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹: Murder Ð¸ Sheriff
        if otherPlayer.Character then
            local humanoid = otherPlayer.Character:FindFirstChildOfClass("Humanoid")
            local head = otherPlayer.Character:FindFirstChild("Head")
            
            if humanoid and humanoid.Health > 0 and head then
                local distance = (localRoot.Position - head.Position).Magnitude
                if distance < closestDistance then
                    closestDistance = distance
                    closestPlayer = otherPlayer
                end
            end
        end
    end
    
    return closestPlayer
end

-- Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð° Wallshoot Ð´Ð»Ñ Duel Murder
local function setupWallshoot()
    if Settings.Wallshoot then
        -- Ð¡Ð¾Ñ…Ñ€Ð°Ð½ÑÐµÐ¼ Ð¾Ñ€Ð¸Ð³Ð¸Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Raycast
        originalRaycast = workspace.FindPartOnRayWithIgnoreList
        
        -- ÐŸÐµÑ€ÐµÐ¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÑÐµÐ¼ Raycast Ð´Ð»Ñ Ð¸Ð³Ð½Ð¾Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ ÑÑ‚ÐµÐ½
        workspace.FindPartOnRayWithIgnoreList = function(workspace, ray, ignoreList, ...)
            local newIgnoreList = {}
            
            -- ÐšÐ¾Ð¿Ð¸Ñ€ÑƒÐµÐ¼ Ð¾Ñ€Ð¸Ð³Ð¸Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¹ ÑÐ¿Ð¸ÑÐ¾Ðº
            if ignoreList then
                for _, item in ipairs(ignoreList) do
                    table.insert(newIgnoreList, item)
                end
            end
            
            -- Ð”Ð¾Ð±Ð°Ð²Ð»ÑÐµÐ¼ Ð²ÑÐµ ÑÑ‚ÐµÐ½Ñ‹ Ð¸ Ð¿Ñ€ÐµÐ¿ÑÑ‚ÑÑ‚Ð²Ð¸Ñ Ð² Ð¸Ð³Ð½Ð¾Ñ€
            for _, part in ipairs(Workspace:GetDescendants()) do
                if part:IsA("BasePart") then
                    -- Ð˜Ð³Ð½Ð¾Ñ€Ð¸Ñ€ÑƒÐµÐ¼ ÑÑ‚ÐµÐ½Ñ‹, Ð¿Ð¾Ð», Ð¿Ñ€ÐµÐ¿ÑÑ‚ÑÑ‚Ð²Ð¸Ñ
                    if part.Name:lower():find("wall") or 
                       part.Name:lower():find("part") or 
                       part.Name:lower():find("floor") or 
                       part.Name:lower():find("ceiling") or
                       part.Name:lower():find("barrier") or
                       part.Name:lower():find("obstacle") or
                       part.Name:lower():find("building") then
                        table.insert(newIgnoreList, part)
                    end
                end
            end
            
            -- Ð˜Ð³Ð½Ð¾Ñ€Ð¸Ñ€ÑƒÐµÐ¼ Ð²ÑÑŽ ÐºÐ°Ñ€Ñ‚Ñƒ
            for _, part in ipairs(Workspace:GetChildren()) do
                if part:IsA("Model") and (part.Name:lower():find("map") or part.Name:lower():find("arena")) then
                    for _, child in ipairs(part:GetDescendants()) do
                        if child:IsA("BasePart") then
                            table.insert(newIgnoreList, child)
                        end
                    end
                end
            end
            
            return originalRaycast(workspace, ray, newIgnoreList, ...)
        end
        
        print("âœ… Wallshoot activated - shooting through walls")
    else
        -- Ð’Ð¾ÑÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÐµÐ¼ Ð¾Ñ€Ð¸Ð³Ð¸Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Raycast
        if originalRaycast then
            workspace.FindPartOnRayWithIgnoreList = originalRaycast
            print("âŒ Wallshoot deactivated")
        end
    end
end

-- ÐžÑÐ½Ð¾Ð²Ð½Ð¾Ð¹ Ñ†Ð¸ÐºÐ»
RunService.Heartbeat:Connect(function()
    -- Speed Hack
    local humanoid = player.Character and player.Character:FindFirstChild("Humanoid")
    if humanoid then
        if Settings.Speed then
            humanoid.WalkSpeed = 50
        else
            humanoid.WalkSpeed = 16
        end
        
        if Settings.Jump then
            humanoid.JumpPower = 100
        else
            humanoid.JumpPower = 50
        end
    end
    
    -- Noclip
    if Settings.Noclip and player.Character then
        for _, part in pairs(player.Character:GetDescendants()) do
            if part:IsA("BasePart") then
                part.CanCollide = false
            end
        end
    end
    
    -- Fly
    if Settings.Fly then
        if not flyBodyVelocity and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
            flyBodyVelocity = Instance.new("BodyVelocity")
            flyBodyVelocity.Velocity = Vector3.new(0, 0, 0)
            flyBodyVelocity.MaxForce = Vector3.new(40000, 40000, 40000)
            flyBodyVelocity.Parent = player.Character.HumanoidRootPart
        end
        
        if flyBodyVelocity then
            local cam = workspace.CurrentCamera
            local moveDir = Vector3.new(0, 0, 0)
            
            if UserInputService:IsKeyDown(Enum.KeyCode.W) then moveDir = moveDir + cam.CFrame.LookVector end
            if UserInputService:IsKeyDown(Enum.KeyCode.S) then moveDir = moveDir - cam.CFrame.LookVector end
            if UserInputService:IsKeyDown(Enum.KeyCode.A) then moveDir = moveDir - cam.CFrame.RightVector end
            if UserInputService:IsKeyDown(Enum.KeyCode.D) then moveDir = moveDir + cam.CFrame.RightVector end
            if UserInputService:IsKeyDown(Enum.KeyCode.Space) then moveDir = moveDir + Vector3.new(0, 1, 0) end
            if UserInputService:IsKeyDown(Enum.KeyCode.LeftControl) then moveDir = moveDir - Vector3.new(0, 1, 0) end
            
            flyBodyVelocity.Velocity = moveDir * 50
        end
    else
        if flyBodyVelocity then
            flyBodyVelocity:Destroy()
            flyBodyVelocity = nil
        end
    end
    
    -- FOV Changer
    local camera = workspace.CurrentCamera
    if camera then
        if Settings.FOV then
            camera.FieldOfView = 120
        else
            camera.FieldOfView = 70
        end
    end
    
    -- ESP
    for _, otherPlayer in pairs(Players:GetPlayers()) do
        if otherPlayer ~= player and otherPlayer.Character then
            if Settings.ESP then
                if not highlights[otherPlayer] then
                    local highlight = Instance.new("Highlight")
                    highlight.FillColor = Color3.new(1, 0, 0) -- ÐšÑ€Ð°ÑÐ½Ñ‹Ð¹ Ð´Ð»Ñ Ð²Ñ€Ð°Ð³Ð¾Ð²
                    highlight.OutlineColor = Color3.new(1, 1, 1)
                    highlight.FillTransparency = 0.5
                    highlight.OutlineTransparency = 0
                    highlight.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop
                    highlight.Parent = otherPlayer.Character
                    highlight.Adornee = otherPlayer.Character
                    highlights[otherPlayer] = highlight
                end
            else
                if highlights[otherPlayer] then
                    highlights[otherPlayer]:Destroy()
                    highlights[otherPlayer] = nil
                end
            end
        end
    end
    
    -- Aimbot (Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¿Ñ€Ð¸ Ð·Ð°Ð¶Ð°Ñ‚Ð¾Ð¹ ÐŸÐšÐœ)
    if Settings.Aimbot and UserInputService:IsMouseButtonPressed(Enum.UserInputType.MouseButton2) then
        local closestEnemy = getClosestEnemy()
        if closestEnemy and closestEnemy.Character then
            local head = closestEnemy.Character:FindFirstChild("Head")
            local camera = workspace.CurrentCamera
            if head and camera then
                -- ÐŸÐ»Ð°Ð²Ð½Ð¾Ðµ Ð¿Ñ€Ð¸Ñ†ÐµÐ»Ð¸Ð²Ð°Ð½Ð¸Ðµ Ð² Ð³Ð¾Ð»Ð¾Ð²Ñƒ
                local currentCFrame = camera.CFrame
                local targetCFrame = CFrame.new(camera.CFrame.Position, head.Position)
                camera.CFrame = currentCFrame:Lerp(targetCFrame, 0.8)
            end
        end
    end
end)

-- ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° Ð½Ð¾Ð²Ñ‹Ñ… Ð¸Ð³Ñ€Ð¾ÐºÐ¾Ð² Ð´Ð»Ñ ESP
Players.PlayerAdded:Connect(function(newPlayer)
    newPlayer.CharacterAdded:Connect(function(character)
        wait(1)
        if Settings.ESP and character then
            local highlight = Instance.new("Highlight")
            highlight.FillColor = Color3.new(1, 0, 0)
            highlight.OutlineColor = Color3.new(1, 1, 1)
            highlight.FillTransparency = 0.5
            highlight.OutlineTransparency = 0
            highlight.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop
            highlight.Parent = character
            highlight.Adornee = character
            highlights[newPlayer] = highlight
        end
    end)
end)

-- Ð“Ð¾Ñ€ÑÑ‡Ð¸Ðµ ÐºÐ»Ð°Ð²Ð¸ÑˆÐ¸
UserInputService.InputBegan:Connect(function(input, gameProcessed)
    if gameProcessed then return end
    
    if input.KeyCode == Enum.KeyCode.Insert then
        mainFrame.Visible = not mainFrame.Visible
        print("Menu: " .. (mainFrame.Visible and "SHOWN" or "HIDDEN"))
    elseif input.KeyCode == Enum.KeyCode.Delete then
        screenGui:Destroy()
        -- Ð’Ð¾ÑÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÐµÐ¼ Ð¾Ñ€Ð¸Ð³Ð¸Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Raycast Ð¿Ñ€Ð¸ ÑƒÐ´Ð°Ð»ÐµÐ½Ð¸Ð¸ Ð¼ÐµÐ½ÑŽ
        if originalRaycast then
            workspace.FindPartOnRayWithIgnoreList = originalRaycast
        end
        print("Menu destroyed")
    elseif input.KeyCode == Enum.KeyCode.F5 then
        -- Ð¡Ð±Ñ€Ð¾Ñ FOV
        local camera = workspace.CurrentCamera
        if camera then
            camera.FieldOfView = 70
            Settings.FOV = false
            fovBtn.Text = "FOV: OFF"
            fovBtn.BackgroundColor3 = Color3.fromRGB(50, 50, 60)
            print("FOV reset to 70")
        end
    end
end)

print("âœ… Duel Murder Cheat Menu Loaded!")
print("ðŸŽ¯ Aimbot: Hold Right Mouse Button")
print("ðŸ”« Wallshoot: Shoot through walls")
print("ðŸ”´ ESP: Red highlights on enemies")
print("âš¡ Speed: 50 walk speed")
print("ðŸ•¶ï¸ Insert: Hide menu")

-- Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ðµ
game:GetService("StarterGui"):SetCore("SendNotification", {
    Title = "DUEL MURDER CHEATS",
    Text = "Hold RMB for Aimbot!",
    Duration = 5
})
