-- Complete Cheat Menu with Aimbot and ESP
local Players = game:GetService("Players")
local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local CoreGui = game:GetService("CoreGui")

local player = Players.LocalPlayer

print("=== COMPLETE CHEAT MENU ===")

-- Ð¡Ð¾Ð·Ð´Ð°ÐµÐ¼ Ð¼ÐµÐ½ÑŽ
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "CompleteCheatMenu"
screenGui.Parent = CoreGui

local mainFrame = Instance.new("Frame")
mainFrame.Name = "MainFrame"
mainFrame.Parent = screenGui
mainFrame.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
mainFrame.BorderSizePixel = 0
mainFrame.Position = UDim2.new(0.1, 0, 0.2, 0)
mainFrame.Size = UDim2.new(0, 200, 0, 300)
mainFrame.Active = true
mainFrame.Draggable = true

local title = Instance.new("TextLabel")
title.Parent = mainFrame
title.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
title.BorderSizePixel = 0
title.Size = UDim2.new(1, 0, 0, 30)
title.Font = Enum.Font.SourceSansBold
title.Text = "COMPLETE CHEATS"
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.TextSize = 14

-- ÐŸÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ð´Ð»Ñ ÑÑ‚Ð°Ñ‚ÑƒÑÐ°
local speedEnabled = false
local jumpEnabled = false
local noclipEnabled = false
local flyEnabled = false
local espEnabled = false
local aimbotEnabled = false

-- Ð¤ÑƒÐ½ÐºÑ†Ð¸Ñ Ð´Ð»Ñ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ ÐºÐ½Ð¾Ð¿Ð¾Ðº
local function createButton(text, position)
    local button = Instance.new("TextButton")
    button.Parent = mainFrame
    button.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
    button.BorderSizePixel = 0
    button.Position = position
    button.Size = UDim2.new(0.9, 0, 0, 30)
    button.Font = Enum.Font.SourceSans
    button.Text = text
    button.TextColor3 = Color3.fromRGB(255, 255, 255)
    button.TextSize = 12
    
    return button
end

-- 1. SPEED HACK
local speedBtn = createButton("SPEED: OFF", UDim2.new(0.05, 0, 0.15, 0))
speedBtn.MouseButton1Click:Connect(function()
    speedEnabled = not speedEnabled
    local humanoid = player.Character and player.Character:FindFirstChild("Humanoid")
    
    if humanoid then
        if speedEnabled then
            humanoid.WalkSpeed = 50
            speedBtn.Text = "SPEED: ON"
            speedBtn.BackgroundColor3 = Color3.fromRGB(0, 150, 0)
            print("âœ… Speed ON - WalkSpeed: 50")
        else
            humanoid.WalkSpeed = 16
            speedBtn.Text = "SPEED: OFF"
            speedBtn.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
            print("âŒ Speed OFF - WalkSpeed: 16")
        end
    else
        print("âš ï¸ No humanoid found for speed!")
    end
end)

-- 2. JUMP POWER
local jumpBtn = createButton("JUMP: OFF", UDim2.new(0.05, 0, 0.25, 0))
jumpBtn.MouseButton1Click:Connect(function()
    jumpEnabled = not jumpEnabled
    local humanoid = player.Character and player.Character:FindFirstChild("Humanoid")
    
    if humanoid then
        if jumpEnabled then
            humanoid.JumpPower = 100
            jumpBtn.Text = "JUMP: ON"
            jumpBtn.BackgroundColor3 = Color3.fromRGB(0, 150, 0)
            print("âœ… Jump ON - JumpPower: 100")
        else
            humanoid.JumpPower = 50
            jumpBtn.Text = "JUMP: OFF"
            jumpBtn.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
            print("âŒ Jump OFF - JumpPower: 50")
        end
    else
        print("âš ï¸ No humanoid found for jump!")
    end
end)

-- 3. NOCLIP
local noclipBtn = createButton("NOCLIP: OFF", UDim2.new(0.05, 0, 0.35, 0))
noclipBtn.MouseButton1Click:Connect(function()
    noclipEnabled = not noclipEnabled
    
    if noclipEnabled then
        noclipBtn.Text = "NOCLIP: ON"
        noclipBtn.BackgroundColor3 = Color3.fromRGB(0, 150, 0)
        print("âœ… NoClip ON")
        
        -- Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð½Ð¾ÐºÐ»Ð¸Ð¿
        spawn(function()
            while noclipEnabled do
                local character = player.Character
                if character then
                    for _, part in pairs(character:GetDescendants()) do
                        if part:IsA("BasePart") then
                            part.CanCollide = false
                        end
                    end
                end
                wait(0.1)
            end
        end)
    else
        noclipBtn.Text = "NOCLIP: OFF"
        noclipBtn.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
        print("âŒ NoClip OFF")
        
        -- Ð’Ñ‹ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð½Ð¾ÐºÐ»Ð¸Ð¿
        local character = player.Character
        if character then
            for _, part in pairs(character:GetDescendants()) do
                if part:IsA("BasePart") then
                    part.CanCollide = true
                end
            end
        end
    end
end)

-- 4. FLY
local flyBtn = createButton("FLY: OFF", UDim2.new(0.05, 0, 0.45, 0))
local flyBodyVelocity

flyBtn.MouseButton1Click:Connect(function()
    flyEnabled = not flyEnabled
    
    if flyEnabled then
        flyBtn.Text = "FLY: ON"
        flyBtn.BackgroundColor3 = Color3.fromRGB(0, 150, 0)
        print("âœ… Fly ON")
        
        -- Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð¿Ð¾Ð»ÐµÑ‚
        local character = player.Character
        if character and character:FindFirstChild("HumanoidRootPart") then
            flyBodyVelocity = Instance.new("BodyVelocity")
            flyBodyVelocity.Velocity = Vector3.new(0, 0, 0)
            flyBodyVelocity.MaxForce = Vector3.new(40000, 40000, 40000)
            flyBodyVelocity.Parent = character.HumanoidRootPart
            
            -- Ð”Ð²Ð¸Ð³Ð°ÐµÐ¼
            spawn(function()
                while flyEnabled and character do
                    local cam = workspace.CurrentCamera
                    local moveDir = Vector3.new(0, 0, 0)
                    
                    if UserInputService:IsKeyDown(Enum.KeyCode.W) then moveDir = moveDir + cam.CFrame.LookVector end
                    if UserInputService:IsKeyDown(Enum.KeyCode.S) then moveDir = moveDir - cam.CFrame.LookVector end
                    if UserInputService:IsKeyDown(Enum.KeyCode.A) then moveDir = moveDir - cam.CFrame.RightVector end
                    if UserInputService:IsKeyDown(Enum.KeyCode.D) then moveDir = moveDir + cam.CFrame.RightVector end
                    if UserInputService:IsKeyDown(Enum.KeyCode.Space) then moveDir = moveDir + Vector3.new(0, 1, 0) end
                    if UserInputService:IsKeyDown(Enum.KeyCode.LeftControl) then moveDir = moveDir - Vector3.new(0, 1, 0) end
                    
                    if flyBodyVelocity then
                        flyBodyVelocity.Velocity = moveDir * 50
                    end
                    wait()
                end
            end)
        end
    else
        flyBtn.Text = "FLY: OFF"
        flyBtn.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
        print("âŒ Fly OFF")
        
        -- Ð’Ñ‹ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð¿Ð¾Ð»ÐµÑ‚
        if flyBodyVelocity then
            flyBodyVelocity:Destroy()
            flyBodyVelocity = nil
        end
    end
end)

-- 5. ESP
local espBtn = createButton("ESP: OFF", UDim2.new(0.05, 0, 0.55, 0))
local highlights = {}

espBtn.MouseButton1Click:Connect(function()
    espEnabled = not espEnabled
    
    if espEnabled then
        espBtn.Text = "ESP: ON"
        espBtn.BackgroundColor3 = Color3.fromRGB(0, 150, 0)
        print("âœ… ESP ON")
        
        -- Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ ESP Ð´Ð»Ñ Ð²ÑÐµÑ… Ð¸Ð³Ñ€Ð¾ÐºÐ¾Ð²
        for _, otherPlayer in pairs(Players:GetPlayers()) do
            if otherPlayer ~= player and otherPlayer.Character then
                local highlight = Instance.new("Highlight")
                highlight.FillColor = Color3.new(1, 0, 0)  -- ÐšÑ€Ð°ÑÐ½Ñ‹Ð¹ Ñ†Ð²ÐµÑ‚
                highlight.OutlineColor = Color3.new(1, 1, 1) -- Ð‘ÐµÐ»Ð°Ñ Ð¾Ð±Ð²Ð¾Ð´ÐºÐ°
                highlight.FillTransparency = 0.5
                highlight.OutlineTransparency = 0
                highlight.Parent = otherPlayer.Character
                highlight.Adornee = otherPlayer.Character
                highlights[otherPlayer] = highlight
                
                print("ðŸ”´ ESP added for: " .. otherPlayer.Name)
            end
        end
        
        -- ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° Ð½Ð¾Ð²Ñ‹Ñ… Ð¸Ð³Ñ€Ð¾ÐºÐ¾Ð²
        Players.PlayerAdded:Connect(function(newPlayer)
            if espEnabled then
                newPlayer.CharacterAdded:Connect(function(character)
                    wait(1)
                    if espEnabled and character then
                        local highlight = Instance.new("Highlight")
                        highlight.FillColor = Color3.new(1, 0, 0)
                        highlight.OutlineColor = Color3.new(1, 1, 1)
                        highlight.FillTransparency = 0.5
                        highlight.Parent = character
                        highlight.Adornee = character
                        highlights[newPlayer] = highlight
                        print("ðŸ”´ ESP added for new player: " .. newPlayer.Name)
                    end
                end)
            end
        end)
        
    else
        espBtn.Text = "ESP: OFF"
        espBtn.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
        print("âŒ ESP OFF")
        
        -- Ð’Ñ‹ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ ESP
        for _, highlight in pairs(highlights) do
            if highlight then
                highlight:Destroy()
            end
        end
        highlights = {}
    end
end)

-- 6. AIMBOT
local aimbotBtn = createButton("AIMBOT: OFF", UDim2.new(0.05, 0, 0.65, 0))
local aimbotConnection

aimbotBtn.MouseButton1Click:Connect(function()
    aimbotEnabled = not aimbotEnabled
    
    if aimbotEnabled then
        aimbotBtn.Text = "AIMBOT: ON"
        aimbotBtn.BackgroundColor3 = Color3.fromRGB(0, 150, 0)
        print("âœ… Aimbot ON - Hold Right Mouse to aim")
        
        -- Ð¤ÑƒÐ½ÐºÑ†Ð¸Ñ Ð´Ð»Ñ Ð¿Ð¾Ð¸ÑÐºÐ° Ð±Ð»Ð¸Ð¶Ð°Ð¹ÑˆÐµÐ³Ð¾ Ð²Ñ€Ð°Ð³Ð°
        local function getClosestEnemy()
            local closestPlayer = nil
            local closestDistance = math.huge
            local localRoot = player.Character and player.Character:FindFirstChild("HumanoidRootPart")
            
            if not localRoot then return nil end
            
            for _, otherPlayer in pairs(Players:GetPlayers()) do
                if otherPlayer ~= player and otherPlayer.Character then
                    -- ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð½Ð° Ñ‚Ð¸Ð¼Ð¼ÐµÐ¹Ñ‚Ð¾Ð²
                    local isTeammate = false
                    
                    if player.Team and otherPlayer.Team then
                        if player.Team == otherPlayer.Team then
                            isTeammate = true
                        end
                    end
                    
                    if not isTeammate then
                        local targetRoot = otherPlayer.Character:FindFirstChild("HumanoidRootPart")
                        local humanoid = otherPlayer.Character:FindFirstChildOfClass("Humanoid")
                        
                        if targetRoot and humanoid and humanoid.Health > 0 then
                            local distance = (localRoot.Position - targetRoot.Position).Magnitude
                            if distance < closestDistance then
                                closestDistance = distance
                                closestPlayer = otherPlayer
                            end
                        end
                    end
                end
            end
            
            return closestPlayer
        end
        
        -- Ð’ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð°Ð¸Ð¼Ð±Ð¾Ñ‚
        aimbotConnection = RunService.Heartbeat:Connect(function()
            if aimbotEnabled and UserInputService:IsMouseButtonPressed(Enum.UserInputType.MouseButton2) then
                local closestEnemy = getClosestEnemy()
                if closestEnemy and closestEnemy.Character then
                    local targetRoot = closestEnemy.Character:FindFirstChild("HumanoidRootPart")
                    local camera = workspace.CurrentCamera
                    if targetRoot and camera then
                        camera.CFrame = CFrame.new(camera.CFrame.Position, targetRoot.Position)
                    end
                end
            end
        end)
        
    else
        aimbotBtn.Text = "AIMBOT: OFF"
        aimbotBtn.BackgroundColor3 = Color3.fromRGB(60, 60, 60)
        print("âŒ Aimbot OFF")
        
        -- Ð’Ñ‹ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑŒ Ð°Ð¸Ð¼Ð±Ð¾Ñ‚
        if aimbotConnection then
            aimbotConnection:Disconnect()
        end
    end
end)

-- Ð˜Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ
local infoLabel = Instance.new("TextLabel")
infoLabel.Parent = mainFrame
infoLabel.BackgroundTransparency = 1
infoLabel.Position = UDim2.new(0.05, 0, 0.85, 0)
infoLabel.Size = UDim2.new(0.9, 0, 0, 40)
infoLabel.Font = Enum.Font.SourceSans
infoLabel.Text = "Insert: Show/Hide\nAimbot: Hold Right Mouse"
infoLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
infoLabel.TextSize = 10
infoLabel.TextWrapped = true

-- Ð“Ð¾Ñ€ÑÑ‡Ð¸Ðµ ÐºÐ»Ð°Ð²Ð¸ÑˆÐ¸
UserInputService.InputBegan:Connect(function(input, gameProcessed)
    if gameProcessed then return end
    
    if input.KeyCode == Enum.KeyCode.Insert then
        mainFrame.Visible = not mainFrame.Visible
        print("ðŸ“‹ Menu: " .. (mainFrame.Visible and "SHOWN" or "HIDDEN"))
    elseif input.KeyCode == Enum.KeyCode.Delete then
        screenGui:Destroy()
        print("ðŸ—‘ï¸ Menu destroyed")
    end
end)

print("âœ… Complete Cheat Menu Loaded!")
print("ðŸŽ¯ Aimbot: Hold Right Mouse Button")
print("ðŸ”´ ESP: Red highlights around players")

-- Ð£Ð²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ðµ
game:GetService("StarterGui"):SetCore("SendNotification", {
    Title = "COMPLETE MENU LOADED",
    Text = "Aimbot + ESP Added!",
    Duration = 5
})
